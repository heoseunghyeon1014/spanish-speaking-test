<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤í˜ì¸ì–´ ë§í•˜ê¸° ìˆ˜í–‰í‰ê°€</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 800px;
            width: 100%;
        }

        h1 {
            text-align: center;
            color: #667eea;
            margin-bottom: 30px;
            font-size: 2em;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background-color: #e0e0e0;
            border-radius: 15px;
            margin-bottom: 30px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .question-card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            border-left: 5px solid #667eea;
            position: relative;
        }

        .question-text {
            font-size: 1.8em;
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 15px;
            text-align: center;
        }

        .countdown-timer {
            font-size: 4em;
            color: #ff6b6b;
            font-weight: bold;
            text-align: center;
            margin: 30px 0;
            display: none;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .countdown-timer.show {
            display: block;
        }

        .listening-indicator {
            text-align: center;
            font-size: 1.2em;
            color: #667eea;
            margin: 20px 0;
            display: none;
        }

        .listening-indicator.show {
            display: block;
        }

        .speaker-icon {
            font-size: 3em;
            animation: soundWave 1s infinite;
        }

        @keyframes soundWave {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .answer-section {
            background: #e8f5e9;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #27ae60;
            display: none;
        }

        .answer-section.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .answer-text {
            font-size: 1.3em;
            color: #27ae60;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .answer-korean {
            font-size: 1em;
            color: #5a6c57;
            font-style: italic;
        }

        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 15px 40px;
            font-size: 1.1em;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        button:active:not(:disabled) {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-next {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-answer {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            font-size: 1.3em;
            padding: 20px 50px;
        }

        .btn-show {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .btn-restart {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .result-badge {
            display: inline-block;
            padding: 10px 20px;
            border-radius: 20px;
            font-weight: bold;
            margin: 20px 0;
            font-size: 1.2em;
        }

        .result-success {
            background: #d4edda;
            color: #155724;
            border: 2px solid #28a745;
        }

        .result-fail {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #dc3545;
        }

        .completion-message {
            text-align: center;
            display: none;
        }

        .completion-message.show {
            display: block;
            animation: fadeIn 0.5s;
        }

        .completion-message h2 {
            color: #667eea;
            font-size: 2.5em;
            margin-bottom: 20px;
        }

        .completion-message p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .score-display {
            font-size: 2em;
            color: #27ae60;
            font-weight: bold;
            margin: 20px 0;
        }

        .start-screen {
            text-align: center;
        }

        .start-screen h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
        }

        .start-screen p {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-bottom: 30px;
        }

        .emoji {
            font-size: 3em;
            margin-bottom: 20px;
        }

        .instructions {
            background: #fff3cd;
            border: 2px solid #ffc107;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: left;
        }

        .instructions h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .instructions ul {
            color: #856404;
            margin-left: 20px;
        }

        .instructions li {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ¤ ìŠ¤í˜ì¸ì–´ ë§í•˜ê¸° ìˆ˜í–‰í‰ê°€</h1>
        
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill">0/8</div>
        </div>

        <div id="startScreen" class="start-screen">
            <div class="emoji">ğŸ¯</div>
            <h2>ì¤€ë¹„ë˜ì…¨ë‚˜ìš”?</h2>
            <div class="instructions">
                <h3>ğŸ“‹ ìˆ˜í–‰í‰ê°€ ë°©ë²•</h3>
                <ul>
                    <li>ì§ˆë¬¸ì´ ìŒì„±ìœ¼ë¡œ ì½í˜€ì§‘ë‹ˆë‹¤</li>
                    <li>ìŒì„±ì´ ëë‚˜ë©´ 5ì´ˆ ì¹´ìš´íŠ¸ë‹¤ìš´ì´ ì‹œì‘ë©ë‹ˆë‹¤</li>
                    <li>5ì´ˆ ì•ˆì— "ë‹µë³€í•˜ê¸°" ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”</li>
                    <li>ì„±ê³µí•˜ë©´ ë‹µì„ ë³¼ ìˆ˜ ìˆê³ , ì‹¤íŒ¨í•˜ë©´ ë°”ë¡œ ë‹µì´ í‘œì‹œë©ë‹ˆë‹¤</li>
                    <li>ì´ 8ê°œì˜ ë¬¸ì œê°€ ì¶œì œë©ë‹ˆë‹¤</li>
                </ul>
            </div>
            <button class="btn-next" onclick="startQuiz()">ì‹œì‘í•˜ê¸°</button>
        </div>

        <div id="quizScreen" style="display: none;">
            <div class="question-card">
                <div class="listening-indicator" id="listeningIndicator">
                    <div class="speaker-icon">ğŸ”Š</div>
                    <div>ì§ˆë¬¸ì„ ì½ê³  ìˆìŠµë‹ˆë‹¤...</div>
                </div>
                <div class="question-text" id="questionText"></div>
                <div class="countdown-timer" id="countdownTimer">5</div>
            </div>

            <div id="resultBadge"></div>

            <div class="answer-section" id="answerSection">
                <div class="answer-text" id="answerText"></div>
                <div class="answer-korean" id="answerKorean"></div>
            </div>

            <div class="button-container">
                <button class="btn-answer" id="answerBtn" onclick="handleAnswer()" disabled>ë‹µë³€í•˜ê¸°</button>
                <button class="btn-show" id="showBtn" onclick="showAnswerAndNext()" style="display: none;">ë‹µ ë³´ê¸°</button>
                <button class="btn-next" id="nextBtn" onclick="nextQuestion()" style="display: none;">ë‹¤ìŒ ë¬¸ì œ</button>
            </div>
        </div>

        <div id="completionScreen" class="completion-message">
            <div class="emoji">ğŸ‰</div>
            <h2>ì™„ë£Œ!</h2>
            <p>8ê°œì˜ ì§ˆë¬¸ì„ ëª¨ë‘ ë§ˆì³¤ìŠµë‹ˆë‹¤!</p>
            <div class="score-display" id="scoreDisplay"></div>
            <button class="btn-restart" onclick="restartQuiz()">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                q: "Â¿A quÃ© hora vas a la escuela?",
                a: "Voy a la escuela a las ocho y media de la maÃ±ana.",
                aKr: "(ë‚˜ëŠ” ì•„ì¹¨ 8ì‹œ 30ë¶„ì— í•™êµì— ê°„ë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora te levantas?",
                a: "Me levanto a las siete de la maÃ±ana.",
                aKr: "(ë‚˜ëŠ” ì•„ì¹¨ 7ì‹œì— ì¼ì–´ë‚œë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora te acuestas?",
                a: "Me acuesto a las once de la noche.",
                aKr: "(ë‚˜ëŠ” ë°¤ 11ì‹œì— ì”ë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora desayunas?",
                a: "Desayuno a las siete y media de la maÃ±ana.",
                aKr: "(ë‚˜ëŠ” ì•„ì¹¨ 7ì‹œ 30ë¶„ì— ì•„ì¹¨ì„ ë¨¹ëŠ”ë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora comes?",
                a: "Como a la una de la tarde.",
                aKr: "(ë‚˜ëŠ” ì˜¤í›„ 1ì‹œì— ì ì‹¬ì„ ë¨¹ëŠ”ë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora cenas?",
                a: "Ceno a las siete de la tarde.",
                aKr: "(ë‚˜ëŠ” ì˜¤í›„ 7ì‹œì— ì €ë…ì„ ë¨¹ëŠ”ë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora empieza la clase?",
                a: "La clase empieza a las nueve de la maÃ±ana.",
                aKr: "(ìˆ˜ì—…ì€ ì•„ì¹¨ 9ì‹œì— ì‹œì‘í•œë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora termina la clase?",
                a: "La clase termina a las cuatro de la tarde.",
                aKr: "(ìˆ˜ì—…ì€ ì˜¤í›„ 4ì‹œì— ëë‚œë‹¤.)"
            },
            {
                q: "Â¿A quÃ© hora llegas a la escuela?",
                a: "Llego a la escuela a las ocho y cuarenta de la maÃ±ana.",
                aKr: "(ë‚˜ëŠ” ì•„ì¹¨ 8ì‹œ 40ë¶„ì— í•™êµì— ë„ì°©í•œë‹¤.)"
            },
            {
                q: "Â¿QuÃ© fecha es hoy?",
                a: "Hoy es veinticinco de noviembre de dos mil veinticinco.",
                aKr: "(ì˜¤ëŠ˜ì€ 2025ë…„ 11ì›” 25ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© fecha es ayer?",
                a: "Ayer fue veinticuatro de noviembre de dos mil veinticinco.",
                aKr: "(ì–´ì œëŠ” 2025ë…„ 11ì›” 24ì¼ì´ì—ˆë‹¤.)"
            },
            {
                q: "Â¿QuÃ© fecha es anteayer?",
                a: "Anteayer fue veintitrÃ©s de noviembre de dos mil veinticinco.",
                aKr: "(ê·¸ì €ê»˜ëŠ” 2025ë…„ 11ì›” 23ì¼ì´ì—ˆë‹¤.)"
            },
            {
                q: "Â¿QuÃ© fecha es maÃ±ana?",
                a: "MaÃ±ana es veintisÃ©is de noviembre de dos mil veinticinco.",
                aKr: "(ë‚´ì¼ì€ 2025ë…„ 11ì›” 26ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© fecha es pasado maÃ±ana?",
                a: "Pasado maÃ±ana es veintisiete de noviembre de dos mil veinticinco.",
                aKr: "(ëª¨ë ˆëŠ” 2025ë…„ 11ì›” 27ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© dÃ­a de la semana es hoy?",
                a: "Hoy es martes.",
                aKr: "(ì˜¤ëŠ˜ì€ í™”ìš”ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© dÃ­a de la semana es ayer?",
                a: "Ayer fue lunes.",
                aKr: "(ì–´ì œëŠ” ì›”ìš”ì¼ì´ì—ˆë‹¤.)"
            },
            {
                q: "Â¿QuÃ© dÃ­a de la semana es anteayer?",
                a: "Anteayer fue domingo.",
                aKr: "(ê·¸ì €ê»˜ëŠ” ì¼ìš”ì¼ì´ì—ˆë‹¤.)"
            },
            {
                q: "Â¿QuÃ© dÃ­a de la semana es maÃ±ana?",
                a: "MaÃ±ana es miÃ©rcoles.",
                aKr: "(ë‚´ì¼ì€ ìˆ˜ìš”ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© dÃ­a de la semana es pasado maÃ±ana?",
                a: "Pasado maÃ±ana es jueves.",
                aKr: "(ëª¨ë ˆëŠ” ëª©ìš”ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿En quÃ© mes estamos?",
                a: "Estamos en noviembre.",
                aKr: "(ìš°ë¦¬ëŠ” 11ì›”ì— ìˆë‹¤.)"
            },
            {
                q: "Â¿CuÃ¡ndo es tu cumpleaÃ±os?",
                a: "Mi cumpleaÃ±os es el quince de marzo.",
                aKr: "(ë‚´ ìƒì¼ì€ 3ì›” 15ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿CuÃ¡ndo es el cumpleaÃ±os de tu madre?",
                a: "El cumpleaÃ±os de mi madre es el diez de mayo.",
                aKr: "(ìš°ë¦¬ ì–´ë¨¸ë‹ˆì˜ ìƒì¼ì€ 5ì›” 10ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿CuÃ¡ndo es el cumpleaÃ±os de tu padre?",
                a: "El cumpleaÃ±os de mi padre es el veinte de agosto.",
                aKr: "(ìš°ë¦¬ ì•„ë²„ì§€ì˜ ìƒì¼ì€ 8ì›” 20ì¼ì´ë‹¤.)"
            },
            {
                q: "Â¿En quÃ© estaciÃ³n estamos?",
                a: "Estamos en otoÃ±o.",
                aKr: "(ìš°ë¦¬ëŠ” ê°€ì„ì— ìˆë‹¤.)"
            },
            {
                q: "Â¿QuÃ© estaciÃ³n te gusta?",
                a: "Me gusta la primavera.",
                aKr: "(ë‚˜ëŠ” ë´„ì„ ì¢‹ì•„í•œë‹¤.)"
            },
            {
                q: "Â¿QuÃ© tiempo hace en primavera?",
                a: "En primavera hace buen tiempo y llueve a veces.",
                aKr: "(ë´„ì—ëŠ” ë‚ ì”¨ê°€ ì¢‹ê³  ê°€ë” ë¹„ê°€ ì˜¨ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© tiempo hace en verano?",
                a: "En verano hace mucho calor y hace sol.",
                aKr: "(ì—¬ë¦„ì—ëŠ” ë§¤ìš° ë¥ê³  í–‡ë¹›ì´ ë‚œë‹¤.)"
            },
            {
                q: "Â¿QuÃ© tiempo hace en otoÃ±o?",
                a: "En otoÃ±o hace fresco y hace viento.",
                aKr: "(ê°€ì„ì—ëŠ” ì‹œì›í•˜ê³  ë°”ëŒì´ ë¶„ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© tiempo hace en invierno?",
                a: "En invierno hace mucho frÃ­o y nieva.",
                aKr: "(ê²¨ìš¸ì—ëŠ” ë§¤ìš° ì¶¥ê³  ëˆˆì´ ì˜¨ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te gusta hacer en primavera y por quÃ©?",
                a: "Me gusta ir al parque en primavera porque hace buen tiempo y las flores son bonitas.",
                aKr: "(ë‚˜ëŠ” ë´„ì— ê³µì›ì— ê°€ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤. ë‚ ì”¨ê°€ ì¢‹ê³  ê½ƒë“¤ì´ ì˜ˆì˜ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te gusta hacer en verano y por quÃ©?",
                a: "Me gusta nadar en verano porque hace mucho calor y el agua estÃ¡ fresca.",
                aKr: "(ë‚˜ëŠ” ì—¬ë¦„ì— ìˆ˜ì˜í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤. ë§¤ìš° ë¥ê³  ë¬¼ì´ ì‹œì›í•˜ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te gusta hacer en otoÃ±o y por quÃ©?",
                a: "Me gusta leer libros en otoÃ±o porque el clima es agradable y es una estaciÃ³n tranquila.",
                aKr: "(ë‚˜ëŠ” ê°€ì„ì— ì±… ì½ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤. ë‚ ì”¨ê°€ ì¢‹ê³  ì¡°ìš©í•œ ê³„ì ˆì´ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te gusta hacer en invierno y por quÃ©?",
                a: "Me gusta tomar chocolate caliente en invierno porque hace mucho frÃ­o y me calienta.",
                aKr: "(ë‚˜ëŠ” ê²¨ìš¸ì— í•«ì´ˆì½” ë§ˆì‹œëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤. ë§¤ìš° ì¶¥ê³  ë‚˜ë¥¼ ë”°ëœ»í•˜ê²Œ í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te gusta hacer en tu tiempo libre y con quÃ© frecuencia lo haces?",
                a: "Me gusta jugar al fÃºtbol en mi tiempo libre y lo hago tres veces por semana.",
                aKr: "(ë‚˜ëŠ” ì—¬ê°€ ì‹œê°„ì— ì¶•êµ¬í•˜ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ê³  ì¼ì£¼ì¼ì— ì„¸ ë²ˆ í•œë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te gusta hacer en tu tiempo libre y por quÃ©?",
                a: "Me gusta escuchar mÃºsica en mi tiempo libre porque me relaja y me hace feliz.",
                aKr: "(ë‚˜ëŠ” ì—¬ê°€ ì‹œê°„ì— ìŒì•… ë“£ëŠ” ê²ƒì„ ì¢‹ì•„í•œë‹¤. ë‚˜ë¥¼ í¸ì•ˆí•˜ê²Œ í•˜ê³  í–‰ë³µí•˜ê²Œ í•´ì£¼ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© odias hacer y por quÃ©?",
                a: "Odio limpiar mi habitaciÃ³n porque es aburrido y me quita mucho tiempo.",
                aKr: "(ë‚˜ëŠ” ë°© ì²­ì†Œí•˜ëŠ” ê²ƒì„ ì‹«ì–´í•œë‹¤. ì§€ë£¨í•˜ê³  ì‹œê°„ì´ ë§ì´ ê±¸ë¦¬ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© te encanta hacer y por quÃ©?",
                a: "Me encanta jugar videojuegos porque son divertidos y puedo jugar con mis amigos.",
                aKr: "(ë‚˜ëŠ” ë¹„ë””ì˜¤ ê²Œì„í•˜ëŠ” ê²ƒì„ ì •ë§ ì¢‹ì•„í•œë‹¤. ì¬ë¯¸ìˆê³  ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© les gusta hacer a tus padres en su tiempo libre y por quÃ©?",
                a: "A mis padres les gusta ver pelÃ­culas en su tiempo libre porque pueden descansar y relajarse juntos.",
                aKr: "(ìš°ë¦¬ ë¶€ëª¨ë‹˜ì€ ì—¬ê°€ ì‹œê°„ì— ì˜í™” ë³´ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ì‹ ë‹¤. í•¨ê»˜ ì‰¬ê³  í¸ì•ˆí•´ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© no les gusta hacer a tus padres en su tiempo libre y por quÃ©?",
                a: "A mis padres no les gusta trabajar en su tiempo libre porque ya trabajan mucho durante la semana.",
                aKr: "(ìš°ë¦¬ ë¶€ëª¨ë‹˜ì€ ì—¬ê°€ ì‹œê°„ì— ì¼í•˜ëŠ” ê²ƒì„ ì‹«ì–´í•˜ì‹ ë‹¤. í‰ì¼ì— ì´ë¯¸ ë§ì´ ì¼í•˜ì‹œê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© animal te gusta y por quÃ©?",
                a: "Me gustan los perros porque son leales y cariÃ±osos.",
                aKr: "(ë‚˜ëŠ” ê°œë¥¼ ì¢‹ì•„í•œë‹¤. ì¶©ì„±ìŠ¤ëŸ½ê³  ë‹¤ì •í•˜ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© animal no te gusta y por quÃ©?",
                a: "No me gustan las araÃ±as porque me dan miedo y son desagradables.",
                aKr: "(ë‚˜ëŠ” ê±°ë¯¸ë¥¼ ì‹«ì–´í•œë‹¤. ë¬´ì„­ê³  ë¶ˆì¾Œí•˜ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© pelÃ­culas te gustan y por quÃ©?",
                a: "Me gustan las pelÃ­culas de acciÃ³n porque son emocionantes y entretenidas.",
                aKr: "(ë‚˜ëŠ” ì•¡ì…˜ ì˜í™”ë¥¼ ì¢‹ì•„í•œë‹¤. í¥ë¯¸ì§„ì§„í•˜ê³  ì¬ë¯¸ìˆê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© pelÃ­culas no te gustan y por quÃ©?",
                a: "No me gustan las pelÃ­culas de terror porque son muy asustadoras y no puedo dormir despuÃ©s.",
                aKr: "(ë‚˜ëŠ” ê³µí¬ ì˜í™”ë¥¼ ì‹«ì–´í•œë‹¤. ë„ˆë¬´ ë¬´ì„­ê³  ë‚˜ì¤‘ì— ì ì„ ì˜ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© pelÃ­culas te gustan y con quÃ© frecuencia vas al cine?",
                a: "Me gustan las pelÃ­culas de comedia y voy al cine una vez al mes.",
                aKr: "(ë‚˜ëŠ” ì½”ë¯¸ë”” ì˜í™”ë¥¼ ì¢‹ì•„í•˜ê³  í•œ ë‹¬ì— í•œ ë²ˆ ì˜í™”ê´€ì— ê°„ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© lugar te gusta y por quÃ©?",
                a: "Me gusta la biblioteca porque es tranquila y puedo estudiar bien.",
                aKr: "(ë‚˜ëŠ” ë„ì„œê´€ì„ ì¢‹ì•„í•œë‹¤. ì¡°ìš©í•˜ê³  ê³µë¶€ë¥¼ ì˜í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© lugar no te gusta y por quÃ©?",
                a: "No me gusta el hospital porque es triste y huele mal.",
                aKr: "(ë‚˜ëŠ” ë³‘ì›ì„ ì‹«ì–´í•œë‹¤. ìŠ¬í”„ê³  ëƒ„ìƒˆê°€ ë‚˜ì˜ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© lugar te gusta y con quÃ© frecuencia vas?",
                a: "Me gusta la cafeterÃ­a y voy dos veces por semana.",
                aKr: "(ë‚˜ëŠ” ì¹´í˜ë¥¼ ì¢‹ì•„í•˜ê³  ì¼ì£¼ì¼ì— ë‘ ë²ˆ ê°„ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© deporte te gusta y por quÃ©?",
                a: "Me gusta el fÃºtbol porque es un deporte de equipo y es muy dinÃ¡mico.",
                aKr: "(ë‚˜ëŠ” ì¶•êµ¬ë¥¼ ì¢‹ì•„í•œë‹¤. íŒ€ ìŠ¤í¬ì¸ ì´ê³  ë§¤ìš° ì—­ë™ì ì´ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© deporte no te gusta y por quÃ©?",
                a: "No me gusta el golf porque es muy lento y aburrido.",
                aKr: "(ë‚˜ëŠ” ê³¨í”„ë¥¼ ì‹«ì–´í•œë‹¤. ë§¤ìš° ëŠë¦¬ê³  ì§€ë£¨í•˜ê¸° ë•Œë¬¸ì´ë‹¤.)"
            },
            {
                q: "Â¿QuÃ© deporte te gusta y con quÃ© frecuencia juegas o ves el juego?",
                a: "Me gusta el baloncesto y juego dos veces por semana y veo los juegos todos los fines de semana.",
                aKr: "(ë‚˜ëŠ” ë†êµ¬ë¥¼ ì¢‹ì•„í•˜ê³  ì¼ì£¼ì¼ì— ë‘ ë²ˆ í•˜ê³  ì£¼ë§ë§ˆë‹¤ ê²½ê¸°ë¥¼ ë³¸ë‹¤.)"
            }
        ];

        let currentQuestions = [];
        let currentIndex = 0;
        let answeredCount = 0;
        let successCount = 0;
        let countdownInterval = null;
        let isCountingDown = false;

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startQuiz() {
            currentQuestions = shuffleArray(questions).slice(0, 8);
            currentIndex = 0;
            answeredCount = 0;
            successCount = 0;
            
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('quizScreen').style.display = 'block';
            document.getElementById('completionScreen').classList.remove('show');
            
            showQuestion();
        }

        function speakQuestion(text) {
            return new Promise((resolve) => {
                // Cancel any ongoing speech
                speechSynthesis.cancel();
                
                const utterance = new SpeechSynthesisUtterance(text);
                
                // Get available voices
                const voices = speechSynthesis.getVoices();
                
                // Find Spanish voice - prioritize es-ES (Spain Spanish) or es-MX (Mexican Spanish)
                const spanishVoice = voices.find(voice => 
                    voice.lang.startsWith('es-ES') || 
                    voice.lang.startsWith('es-MX') || 
                    voice.lang.startsWith('es')
                );
                
                if (spanishVoice) {
                    utterance.voice = spanishVoice;
                }
                
                utterance.lang = 'es-ES';
                utterance.rate = 0.85; // Slightly slower for clarity
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                
                utterance.onend = () => {
                    resolve();
                };
                
                utterance.onerror = (error) => {
                    console.error('Speech error:', error);
                    resolve();
                };
                
                // Small delay to ensure voice is loaded
                setTimeout(() => {
                    speechSynthesis.speak(utterance);
                }, 100);
            });
        }

        // Load voices when they become available
        function loadVoices() {
            return new Promise((resolve) => {
                const voices = speechSynthesis.getVoices();
                if (voices.length > 0) {
                    resolve(voices);
                } else {
                    speechSynthesis.onvoiceschanged = () => {
                        resolve(speechSynthesis.getVoices());
                    };
                }
            });
        }

        // Initialize voices on page load
        window.addEventListener('load', () => {
            loadVoices().then(voices => {
                const spanishVoices = voices.filter(v => v.lang.startsWith('es'));
                console.log('Available Spanish voices:', spanishVoices.map(v => v.name + ' (' + v.lang + ')'));
            });
        });

        async function showQuestion() {
            const question = currentQuestions[currentIndex];
            
            // Reset UI
            document.getElementById('questionText').textContent = question.q;
            document.getElementById('answerText').textContent = question.a;
            document.getElementById('answerKorean').textContent = question.aKr;
            
            document.getElementById('answerSection').classList.remove('show');
            document.getElementById('answerBtn').style.display = 'inline-block';
            document.getElementById('answerBtn').disabled = true;
            document.getElementById('showBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('resultBadge').innerHTML = '';
            document.getElementById('countdownTimer').classList.remove('show');
            document.getElementById('listeningIndicator').classList.add('show');
            
            isCountingDown = false;
            
            updateProgress();
            
            // Speak the question
            await speakQuestion(question.q);
            
            // Hide listening indicator
            document.getElementById('listeningIndicator').classList.remove('show');
            
            // Start countdown
            startCountdown();
        }

        function startCountdown() {
            let count = 5;
            isCountingDown = true;
            
            const timerElement = document.getElementById('countdownTimer');
            const answerBtn = document.getElementById('answerBtn');
            
            timerElement.textContent = count;
            timerElement.classList.add('show');
            answerBtn.disabled = false;
            
            countdownInterval = setInterval(() => {
                count--;
                timerElement.textContent = count;
                
                if (count <= 0) {
                    clearInterval(countdownInterval);
                    handleTimeout();
                }
            }, 1000);
        }

        function handleAnswer() {
            if (!isCountingDown) return;
            
            clearInterval(countdownInterval);
            isCountingDown = false;
            
            document.getElementById('countdownTimer').classList.remove('show');
            document.getElementById('answerBtn').style.display = 'none';
            document.getElementById('showBtn').style.display = 'inline-block';
            
            successCount++;
            
            document.getElementById('resultBadge').innerHTML = 
                '<div class="result-badge result-success">âœ… ì„±ê³µ! 5ì´ˆ ì•ˆì— í´ë¦­í–ˆìŠµë‹ˆë‹¤!</div>';
        }

        function handleTimeout() {
            isCountingDown = false;
            
            document.getElementById('countdownTimer').classList.remove('show');
            document.getElementById('answerBtn').style.display = 'none';
            document.getElementById('answerBtn').disabled = true;
            
            document.getElementById('resultBadge').innerHTML = 
                '<div class="result-badge result-fail">âŒ ì‹œê°„ ì´ˆê³¼! 5ì´ˆ ì•ˆì— í´ë¦­í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.</div>';
            
            // Show answer immediately
            document.getElementById('answerSection').classList.add('show');
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        function showAnswerAndNext() {
            document.getElementById('answerSection').classList.add('show');
            document.getElementById('showBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        function nextQuestion() {
            answeredCount++;
            currentIndex++;
            
            if (currentIndex >= 8) {
                showCompletion();
            } else {
                showQuestion();
            }
        }

        function updateProgress() {
            const percentage = (answeredCount / 8) * 100;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = answeredCount + '/8';
        }

        function showCompletion() {
            document.getElementById('quizScreen').style.display = 'none';
            document.getElementById('completionScreen').classList.add('show');
            
            const percentage = 100;
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressFill').textContent = '8/8';
            
            document.getElementById('scoreDisplay').textContent = 
                `ì„±ê³µ: ${successCount}/8 (${Math.round(successCount/8*100)}%)`;
        }

        function restartQuiz() {
            document.getElementById('completionScreen').classList.remove('show');
            document.getElementById('startScreen').style.display = 'block';
            
            const progressFill = document.getElementById('progressFill');
            progressFill.style.width = '0%';
            progressFill.textContent = '0/8';
        }
    </script>
</body>
</html>